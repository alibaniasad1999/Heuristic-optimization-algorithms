\section{چارچوب الگوریتم \lr{REMARK}}

\subsection{تعاریف}
همانطور که در بخش ذکر شد. 2.1، تنوع تقاضا و عرضه به عوامل قیمتی (درون‌زا) و غیر قیمتی (برون‌زا) بستگی دارد. برای تحلیلگران املاک و مستغلات، اهمیت عوامل برون‌زا  برابر یا حتی بیشتر از عوامل درون‌زا است.  یکی از عوامل برون‌زای اصلی در بازار املاک، اندازه بازار است. اندازه بازار بر تقاضای ملک تأثیر می‌گذارد. برای مثال، تعداد خانوارها یک عامل برونزا مرتبط در مورد مسکن است. در حالی که در مورد فضای اداری، استخدام اداری مهم‌ترین عامل است. دو نوع عامل برای بازار املاک و مستغلات را در نظر گرفته شده است:
\begin{itemize}
	\item متقاضیان
	
	 همیشه به دنبال دارایی با بهترین ارزش هستند که می توانند برای جابجایی و اقامت در آن انتخاب کنند. مکان مطلوب از نظر یک متقاضی کمترین تغییر قیمت را نسبت به همسایگان خود دارد. متقاضیان می توانند با یکدیگر دوست شوند و در مورد بهترین قیمت تجربه شده خود با توجه به ارزش آن تبادل اطلاعات کنند. نکته دیگر اینکه هر متقاضی دارای قدرت خرید تصادفی است و ممکن است به دلیل قیمت بالای ملک مورد نظر نسبت به قدرت خرید خود از عهده قیمت آن بر نیاید.
	\item  ‌عرضه‌کنندگان
	
	 همیشه به دنبال مناطق گران قیمت برای ساخت املاک جدید با هدف کسب سود بیشتر هستند. با این حال، فعالیت های ساخت‌و‌ساز زمان بر است و نمی‌تواند فوری باشد.
	
\end{itemize}

با وجود اینکه هدف متقاضیان و ‌عرضه‌کنندگان در نگاه اول متفاوت به نظر می‌رسد، اما رفتار آنها در بازاز مرتبط است. تعامل آنها و تأثیر آن بر قیمت، ایده‌ای برای یافتن راه حل بهینه در یک مسئله بهینه‌سازی را نشان می‌دهد.


\subsection{مدل بازار}
\label{sec:market_model}
بازار معادل فضای جستجوی $n$ بعدی است که، هر نقطه در فضای جستجو مربوط به مکان یک ملک است. هر ملک یک راه حل است و مختصات آن متغیرهای بهینه‌سازی است. علاوه بر موقعیت مکانی، هر ملک دارای ارزش، تغییر قیمت، مقدار تقاضا و مقدار عرضه است. ارزش یک ملک معادل مقدار تابع هدف\LTRfootnote{Objective Function} در آن مکان است. تغییر قیمت به عنوان تفاوت بین مقدار تقاضا و عرضه در بخش‌های \ref{sec:price_adjustment} تعریف شده است. یک منطقه در بازار به عنوان یک توزیع گاوسی با میانگین و انحراف معیار مشخص تعریف شده است. فرض بر این است که ظرفیت یک ناحیه بی‌نهایت است زیرا الگوریتم برای بیهنه‌سازی در اعداد حقیقی ساخته شده است.

\subsection{مدل تقاضا}\label{sec:demand_model}
در بخش
\ref{sec:demand}
تقاضا تعریف شد.
در مورد املاک و مستغلات، تقاضا می‌تواند به تراکم تقاضا‌کنندگان در اطراف یک مکان مرتبط باشد. به این معنی که وقتی تراکم املاک اشغال شده در یک مکان زیاد باشد، تقاضا برای املاک در آن مکان زیاد است و بالعکس. از آنجایی که املاک در تصرف متقاضیان است، تقاضا در ارتباط مستقیم با مکان تقاضاکنندگان است. سهم هر تقاضاکننده از کل تقاضاهای ملک را می‌توان به فاصله اقلیدسی او از آن ملک مرتبط کرد. به عنوان مثال، سهم تقاضاکننده \lr{i} در کل تقاضا برای ملک \lr{x}، که با $q_{D_{ix}}$ نشان داده شده است، می تواند به صورت بیان شود.
\begin{equation}
	q_{D_{ix}} = \alpha - d_{D_{ix}}
\end{equation}

در رابطه بالا $\alpha$ بیانگر طول مشخصه‌ای است که می‌تواند به عنوان حداکثر فاصله ممکن بین دو ملک در فضای جستجو تعریف شود. در اینجا، $\alpha$ جذر ابعاد مسئله یا جذر تعداد متغیرهای طراحی است، مشروط بر اینکه همه ابعاد فضای جستجو در محدوده \lr{$[0, 1]$} نرمال شوند. بنابراین، کل تقاضا برای ملک $x$ به صورت زیر محاسبه می‌شود.

\begin{equation}\label{eq:all_demand}
	Q_{D_x} = \dfrac{1}{\alpha n_D} \sum_{i=1}^{n_D}q_{D_{ix}} 
\end{equation}

معادله \eqref{eq:all_demand} یک مقدار نرمال شده برای $	Q_{D_x} $ در محدوده \lr{$[0, 1]$}  با پارامتر $\alpha$ می‌دهد. چنین تعریفی برای حذف وابستگی به ابعاد پارامترهای الگوریتم پیشنهاد شده است.

\subsection{مدل عرضه}
مشابه تقاضا، کل عرضه برای ملک $x$ به‌صورت زیر در نظر گرفته شده است.
\begin{equation}\label{eq:all_supply}
	Q_{S_x} = \dfrac{1}{\alpha n_S} \sum_{i=1}^{n_S}q_{S_{ix}} 
\end{equation}
که در آن $n_S$ تعداد عرضه‌کنندگان است. مانند توضیح ارائه شده در بخش متقاضیان، مقدار عرضه شده توسط هر ‌عرضه‌کننده، با فاصله آنها نسبت به ملک‌های مختلف مرتبط است. به عبارت دیگر وقتی عرضه‌کننده
 $i$ 
مقدار
 $q_{S_{ix}}$ 
 را در ناحیه اطراف $x$ عرضه می‌کند، می‌توان فرض کرد که این ‌عرضه‌کننده در فاصله $d_s$ قرار دارد.مقدار
 $q_{S_{ix}}$ 
 بر اساس رابطه زیر به‌روزرسانی می‌شود.
\begin{equation}
	q_{S_{ix}} = \alpha - d_{S_{ix}}
\end{equation}

\subsection{مدل تنظیم قیمت}\label{sec:price_adjustment}

رابطه بین قیمت و تقاضا برای یک ملک را تابعی از کل دارایی‌های عرضه شده است. قیمت بازار را می توان به صورت
$Pr\left(Q_{D_x}, Q_{S_x}\right)$
بیان کرد، که در آن $Pr$ یک تابع کاهشی از $Q_S$، و یک تابع افزایشی از $Q_D$ است، قانون تنظیم قیمت یک دارایی را می‌توان به عنوان یک کنترل کننده تناسبی\LTRfootnote{Proportional Controller} در نظر گرفت که توسط معادله
\ref{eq:price}
 توضیح داده شده است.
 
 \begin{equation}\label{eq:price}
 	Pr_x^{new} = K_p\left(Q_{D_x} - Q_{S_x}\right) + Pr_x
 \end{equation}

از آنجایی که در الگوریتم، تنها تغییر قیمت اهمیت دارد و اینکه متقاضیان تمایل دارند به سمت منطقه‌ای با تغییر قیمت صفر حرکت کنند، تنها قسمت تغییر قیمت حفظ شده است و بقیه نادیده گرفته شده است. از آنجایی که واحد قیمت در اینجا اهمیتی ندارد، پارامتر $K_p$، واحد در نظر گرفته شده است. از این رو، معادله نهایی برای تغییر قیمت به‌صورت زیر به دست می‌آید.
\begin{equation}
	\rho = Q_{D_x} - Q_{S_x}
\end{equation}



\subsection{تعامل بازیگران بازار و اصول کار الگوریتم}\label{sec:intraction}
این الگوریتم به روش زیر عمل می کند: در ابتدا، متقاضیان به طور تصادفی در بازار پخش می‌شوند و برخی از املاک را اشغال می کنند. عرضه‌کنندگان نیز به صورت تصادفی توزیع می‌شوند. پس از آن، تقاضاکنندگان به طور تصادفی به چند گروه دوست با ظرفیت مشخص تقسیم می‌شوند. در هر تکرار، متقاضیان اطلاعات خود را شامل دارایی فعلی و بهترین تجربه را با دوستان خود به اشتراک می‌گذارند. سپس، اعضای گروه بهترین مکان پیشنهادی را برای مهاجرت انتخاب می کنند. با این حال، در اینجا موضوع قدرت خرید مطرح می‌شود. متقاضی می‌تواند با توجه به قدرت خرید خود به آن منطقه مهاجرت کند و ملکی را در فاصله‌ای از ملک پیشنهادی تصرف کند. توزیع قیمت در یک منطقه به صورت گاوسی با میانگین موقعیت مکانی توصیه شده مدل‌سازی شده است. هر متقاضی در یک گروه، بر اساس روش اشاره شده، مکانی را در اطراف بهترین ملک پیشنهادی انتخاب و اشغال می‌کند.

فرض کنید که تقاضاکننده $i$ دارای قدرت خرید $\beta_i$ است و تصمیم می گیرد به ملک $x$ برود. فرض شده است قیمت در اطراف موقعیت پیشنهادی به صورت توزیع نرمال با انحراف میعیار واحد است. بر اساس فرض گفته شده 
$\overline{d_{D_{ix}}}$ 
برابر با فاصله‌ای از موقعیت پیشنهادی است که تقاضاکننده $i$ می‌تواند آن را بخرد.
\begin{equation}
	\beta_i(x) = \exp(-\dfrac{\overline{d_{D_{ix}}}^2}{2})
\end{equation}

\begin{equation}
	\overline{d_{D_{ix}}} = \sqrt{-2\ln\beta_i(x)}
\end{equation}

در نهایت، تقاضاکنندگان با استفاده از تابع توزیع احتمال گاوسی به آن ناحیه مهاجرت می‌کنند که انحراف معیار آن به‌صورت زیر پیشنهاد می‌شود:

\begin{equation}
	d_{D_{ix}}^{new} = K_{\sigma_D}  \left\|\rho_x \right\| \overline{d_{D_{ix}}} 
\end{equation}

که در آن
$K_{\sigma_D} $،
 پارامتری از الگوریتم بهینه‌سازی است. وجود پارامتر $\alpha$ در مخرج 
 معادلات
 \eqref{eq:all_demand}
 و
  \eqref{eq:all_supply}
وابستگی پارامتر $K_{\sigma_D} $ به ابعاد مسئله را کاهش می‌دهد.
 
 
فرض کنید عرضه‌کننده 
$i$،
  $q_{S_{ix}}$
    واحد از ملک $x$  را می‌سازد. هزینه عرضه‌کننده
     $C_{ix}(q_{S_{ix}})$
     است.
 دلیل تاخیر در ساخت و ساز، تمامی ‌عرضه‌کنندگان به طور همزمان در اقدام عرضه شرکت نمی کنند. دوره ساخت بر حسب تعداد خاص تکرار در نظر گرفته می شود.
همچنین به دلیل تاخیر در ساخت‌و‌ساز، تمامی ‌عرضه‌کنندگان به طور همزمان در  عرضه شرکت نمی‌کنند.
زمان ساخت بر حسب تعدادی تکرار در نظر گرفته شده است.
هنگامی که دوره ساخت و ساز سپری شد، $K_{n_S}$ بخش از تمام املاک جدید در منطقه عرضه می‌شود که دارای ملک با حداکثر تغییر قیمت است. در الگوریتم، معادل به‌روزرسانی مکان‌های ‌عرضه‌کنندگان در بازار است.
سود ‌عرضه‌کننده $i$ برابر است با درآمد منهای هزینه:
\begin{equation}
	\pi_{ix} = q_{S_{ix}} Pr(Q_{S_x} - Q_{D_x}) - C_{ix}(q_{S_{ix}})
\end{equation}

مقدار بهینه مکان برای ساخت عرضه‌کننده با استفاده از تعادل نش به‌صورت زیر بدست می‌آید.
\begin{equation}
	q_{S_{ix}} ^* = \dfrac{1-\overline{V}}{1+K_{n_S}n_s}
\end{equation}
در رابطه بالا $\overline{V}$ برابر با مقدار نرمال شده ارزش ملک بر اساس بیشترین تغییر قیمت است.

برای اضافه کردن فرایند تصادفی، ناحیه ای برای جابجایی ‌عرضه‌کننده با استفاده از تابع توزیع احتمال گاوسی انتخاب می شود، مکان با حداکثر تغییر قیمت به عنوان میانگین و انحراف معیار به صورت معادله \eqref{eq:supply_random} بدر نظر گرفته شده است. ضریب
$K_{\sigma_S} $
پارامتری از الگوریتم بهینه‌سازی است.

\begin{equation}\label{eq:supply_random}
	d_{s_{ix}}^{new} = K_{\sigma_S}  	q_{S_{ix}} ^*
\end{equation}
 
 بنابراین، یک تعامل بین متقاضیان و ‌عرضه‌کنندگان بر اساس تغییرات قیمت و  ارزش ملک طراحی شده است. هر دو مورد در تصمیم‌گیری هر دو عامل در نظر گرفته شده است، اما به روشی که توانایی‌های اکتشاف، بهره‌برداری و همگرایی الگوریتم به نقطه بهینه فراهم شود.
 
 
 
 
 
 